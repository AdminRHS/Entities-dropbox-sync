# üìò –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã HR-–ê–Ω–∞–ª–∏—Ç–∏–∫–∏ (Discord + CRM + n8n)

**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** 1.0  
**–°—Ç–∞—Ç—É—Å:** Production  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–∫–∏–Ω–≥ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, —Å–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–∞—Ö Discord —Å –æ—Ç—á–µ—Ç–∞–º–∏ –≤ CRM, —É—á–µ—Ç –æ—Ç–≥—É–ª–æ–≤ –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π.

---

## üìë –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#1-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
2. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã](#2-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
   - [Google Sheets (–ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö)](#google-sheets-–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
   - [Dropbox (–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)](#dropbox-—Ñ–∞–π–ª–æ–≤–æ–µ-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
3. [–í–æ—Ä–∫—Ñ–ª–æ—É 1: Voice Logger (–°–±–æ—Ä—â–∏–∫ –ª–æ–≥–æ–≤)](#3-–≤–æ—Ä–∫—Ñ–ª–æ—É-1-voice-logger-—Å–±–æ—Ä—â–∏–∫-–ª–æ–≥–æ–≤)
4. [–í–æ—Ä–∫—Ñ–ª–æ—É 2: Days Off Parser (–¢—Ä–µ–∫–µ—Ä –æ—Ç–≥—É–ª–æ–≤)](#4-–≤–æ—Ä–∫—Ñ–ª–æ—É-2-days-off-parser-—Ç—Ä–µ–∫–µ—Ä-–æ—Ç–≥—É–ª–æ–≤)
5. [–í–æ—Ä–∫—Ñ–ª–æ—É 3: Daily Auditor (–ì–ª–∞–≤–Ω—ã–π –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä)](#5-–≤–æ—Ä–∫—Ñ–ª–æ—É-3-daily-auditor-–≥–ª–∞–≤–Ω—ã–π-–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä)
6. [–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏ FAQ](#6-–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ-–∏-faq)

---

## 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (Workflows) –≤ n8n:

1.  **Voice Logger:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç. –ó–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç Carl-bot –≤ –∫–∞–Ω–∞–ª–µ `#voice-log`, –ø–∞—Ä—Å–∏—Ç Embeds –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç "—Å—ã—Ä—ã–µ" –≤—Ö–æ–¥—ã/–≤—ã—Ö–æ–¥—ã –≤ —Ç–∞–±–ª–∏—Ü—É.
2.  **Days Off Parser:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–π —á–∞—Å. –ß–∏—Ç–∞–µ—Ç –∫–∞–Ω–∞–ª `#days-off`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Regex –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞—Ç –∏ ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –∏—Å–∫–ª—é—á–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü—É.
3.  **Daily Auditor:** –†–∞–±–æ—Ç–∞–µ—Ç 1 —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏ (–Ω–æ—á—å—é).
    * –°—á–∏—Ç—ã–≤–∞–µ—Ç —Å—ã—Ä—ã–µ –ª–æ–≥–∏ –∑–∞ *–≤—á–µ—Ä–∞*.
    * –°—á–∏—Ç–∞–µ—Ç –æ–±—â–µ–µ –≤—Ä–µ–º—è –≤ –≤–æ–π—Å–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞.
    * –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ CRM API.
    * –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ (Merge).
    * –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –≤—ã–Ω–æ—Å–∏—Ç –≤–µ—Ä–¥–∏–∫—Ç (`OK`, `SUSPICIOUS`, `CHECK CRM`).
    * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç—á–µ—Ç—ã –≤ Google Sheets –∏ JSON-—Ñ–∞–π–ª—ã –≤ Dropbox.

---

## 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### Google Sheets (–ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö)
–°–æ–∑–¥–∞–π—Ç–µ –æ–¥–Ω—É Google –¢–∞–±–ª–∏—Ü—É. –í –Ω–µ–π –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **4 –≤–∫–ª–∞–¥–∫–∏** (–ª–∏—Å—Ç–∞). –ù–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ (1-—è —Å—Ç—Ä–æ–∫–∞) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **—Ç–æ—á–Ω–æ —Ç–∞–∫–∏–º–∏**, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ.

#### –õ–∏—Å—Ç 1: `Raw_Logs`
*–•—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π.*
| A | B | C | D | E |
|---|---|---|---|---|
| **User ID** | **Username** | **Action** | **Channel** | **Timestamp** |

#### –õ–∏—Å—Ç 2: `Days_Off`
*–•—Ä–∞–Ω–∏—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ –æ—Ç–≥—É–ª—ã.*
| A | B | C | D | E | F | G | H | I |
|---|---|---|---|---|---|---|---|---|
| **Message ID** | **Date Posted** | **Author** | **Raw Text** | **Employee ID** | **Employee Name** | **Start Date** | **End Date** | **Type** |

#### –õ–∏—Å—Ç 3: `CRM_Data`
*–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞—Ä—Ö–∏–≤ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ CRM.*
| A | B | C | D | E | F | G |
|---|---|---|---|---|---|---|
| **Employee ID** | **Discord User ID** | **Status** | **Records Count** | **First Check In** | **Last Check Out** | **Report** |

#### –õ–∏—Å—Ç 4: `Merged_Report`
*–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.*
| A | B | C | D | E | F | G | H | I | J |
|---|---|---|---|---|---|---|---|---|---|
| **Date** | **Verdict** | **Issue** | **Employee Name** | **Discord Time** | **CRM Status** | **Discord ID** | **First Check-in** | **Last Check-out** | **Report** |

### Dropbox (–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É n8n –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–ø–∫–µ (Credential –ø–æ–¥–∫–ª—é—á–µ–Ω).
–¶–µ–ª–µ–≤–∞—è –ø–∞–ø–∫–∞: `/ENTITIES/TALENTS/Employees/Voice Log Discord/`

---

## 3. –í–æ—Ä–∫—Ñ–ª–æ—É 1: Voice Logger (–°–±–æ—Ä—â–∏–∫ –ª–æ–≥–æ–≤)

–≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–±–∏—Ä–∞–µ—Ç —Ñ–∞–∫—Ç–∞–∂.

**–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç.

### –£–∑–ª—ã (Nodes):

1.  **Schedule Trigger**
    * Interval: `15 Minutes`
2.  **Discord**
    * Resource: `Message`
    * Operation: `Get Many`
    * Channel: `#voice-log` (ID –∫–∞–Ω–∞–ª–∞, –∫—É–¥–∞ –ø–∏—à–µ—Ç Carl-bot)
    * Limit: `100`
3.  **Function (Code)**
    * *–ó–∞–¥–∞—á–∞:* –ò–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Embeds, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ä–∞–∑ –≤ 15 –º–∏–Ω) –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
    * *–ö–æ–¥:*
    ```javascript
    // --- –ù–ê–°–¢–†–û–ô–ö–ò ---
    const LOOK_BACK_MINUTES = 20; 
    const timeThreshold = new Date(Date.now() - (LOOK_BACK_MINUTES * 60 * 1000));

    const incomingItems = $input.all();
    if (!incomingItems || incomingItems.length === 0) return [{ json: { status: "No logs found" } }];

    const output = [];

    for (const item of incomingItems) {
        const message = item.json; 
        if (!message.embeds || message.embeds.length === 0) continue; 
        
        // –§–ò–õ–¨–¢–† –ü–û –í–†–ï–ú–ï–ù–ò
        const msgTime = new Date(message.timestamp);
        if (msgTime < timeThreshold) continue;

        for (const embed of message.embeds) {
            const title = embed.title || '';
            const description = embed.description || '';
            
            // –ò–∑–≤–ª–µ–∫–∞–µ–º ID –∏–∑ Footer
            const userId = (embed.footer && embed.footer.text) ? embed.footer.text.replace('ID: ', '').trim() : null;
            const username = (embed.author && embed.author.name) ? embed.author.name : null;
            const timestamp = embed.timestamp;
            
            if (!userId) continue; 
            
            let action = '';
            let channelName = null;
            let oldChannel = null;
            let newChannel = null;

            if (title.includes("joined")) {
                action = 'JOINED';
                const match = description.match(/\*\*[\w\d._-]+\*\* joined #(.+)/i);
                if (match) channelName = match[1].trim();
            } else if (title.includes("left")) {
                action = 'LEFT';
                const match = description.match(/\*\*[\w\d._-]+\*\* left #(.+)/i);
                if (match) channelName = match[1].trim();
            } else if (title.includes("changed")) {
                // MOVED —Ä–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ LEFT + JOINED
                const moveMatch = description.match(/\*\*Before:\*\*\s*#(.+?)\n\*\* \+After:\*\*\s*#(.+)/i);
                if (moveMatch) {
                    oldChannel = moveMatch[1].trim();
                    newChannel = moveMatch[2].trim();
                }
            }
            
            if (oldChannel && newChannel) {
                output.push({ userId, username, action: 'LEFT', channelName: oldChannel, timestamp });
                output.push({ userId, username, action: 'JOINED', channelName: newChannel, timestamp });
            } else if (action && channelName) {
                output.push({ userId, username, action, channelName, timestamp });
            }
        }
    }
    if (output.length === 0) return [{ json: { status: "No recent activity" } }];
    return output.map(item => ({ json: item }));
    ```
4.  **Google Sheets**
    * Operation: `Append`
    * Sheet: `Raw_Logs`
    * Mapping: `userId` -> `User ID`, `username` -> `Username`, etc.

---

## 4. –í–æ—Ä–∫—Ñ–ª–æ—É 2: Days Off Parser (–¢—Ä–µ–∫–µ—Ä –æ—Ç–≥—É–ª–æ–≤)

**–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞–∂–¥—ã–µ 60 –º–∏–Ω—É—Ç.

### –£–∑–ª—ã (Nodes):

1.  **Schedule Trigger** (1 Hour)
2.  **Discord** (Get Many, Limit 50, Channel `#days-off`)
3.  **Google Sheets** (Get Many Rows, Sheet `Days_Off`, Return All) ‚Äî *–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–∞–∑—É —É–∂–µ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö.*
4.  **Merge**
    * Mode: `Remove Key Matches`
    * Input 1: Discord (`id`)
    * Input 2: Google Sheets (`Message ID`)
    * *–†–µ–∑—É–ª—å—Ç–∞—Ç:* –¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
5.  **Function (Code)**
    * *–ó–∞–¥–∞—á–∞:* Regex-–ø–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ –≤–∏–¥–∞ "Name ID => Date => Reason".
    * *–ö–æ–¥:* (–°–º. —Ñ–∏–Ω–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º—É–ª—å—Ç–∏-—Å—Ç—Ä–æ–∫ –∏ –ø–æ–∏—Å–∫–æ–º ID 3-6 –∑–Ω–∞–∫–æ–≤).
6.  **Google Sheets**
    * Operation: `Append`
    * Sheet: `Days_Off`
    * Mapping: `employee_id` -> `Employee ID`, `start_date` -> `Start Date`, `full_text` -> `Raw Text`.

---

## 5. –í–æ—Ä–∫—Ñ–ª–æ—É 3: Daily Auditor (–ì–ª–∞–≤–Ω—ã–π –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä)

**–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** Every Day at 01:00 AM (–∏–ª–∏ –ø–æ–∑–∂–µ).

–≠—Ç–æ—Ç –≤–æ—Ä–∫—Ñ–ª–æ—É –∏–º–µ–µ—Ç –¥–≤–µ –≤–µ—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç–µ–º —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è.

### –í–µ—Ç–∫–∞ –ê: Discord Aggregation
1.  **Google Sheets (Read):** –õ–∏—Å—Ç `Raw_Logs`. Limit: 10000 (—á–∏—Ç–∞—Ç—å –≤—Å—ë).
2.  **Code (Calculate Daily Total):**
    * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `targetDate = yesterday`.
    * –§–∏–ª—å—Ç—Ä—É–µ—Ç –ª–æ–≥–∏ —Ç–æ–ª—å–∫–æ –∑–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å.
    * –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –≤—Ä–µ–º–µ–Ω–∏.
    * –í —Ü–∏–∫–ª–µ –∏—â–µ—Ç –ø–∞—Ä—ã `JOINED` -> `LEFT`.
    * –°—É–º–º–∏—Ä—É–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –≤–æ –≤—Ä–µ–º–µ–Ω–∏ (`totalMinutes`).
    * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤** —Å –∏—Ö –∏—Ç–æ–≥–æ–≤—ã–º –≤—Ä–µ–º–µ–Ω–µ–º.

### –í–µ—Ç–∫–∞ –ë: CRM Data Fetch
1.  **HTTP Request:** GET –∑–∞–ø—Ä–æ—Å –∫ API CRM (`/employees-attendance-yesterday`).
2.  **Code (Extract):** –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –º–∞—Å—Å–∏–≤–∞ `response.data.employees`.
3.  **Code (Prepare CRM Data):**
    * –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å (`Active` –µ—Å–ª–∏ –µ—Å—Ç—å –ª–æ–≥–∏, –∏–Ω–∞—á–µ `No Records`).
    * –ù–∞—Ö–æ–¥–∏—Ç `First Check In` –∏ `Last Check Out`.
    * –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –º–∞—Å—Å–∏–≤ —Ç–µ–∫—Å—Ç–æ–≤ `report` –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É `daily_report`.
4.  **Google Sheets (Write):** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—ã—Ä–æ–π –≤—ã–≥—Ä—É–∑–∫–∏ –≤ `CRM_Data`.
5.  **Convert to File + Dropbox:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ JSON –¥–∞–º–ø–∞ (`crm_export_DATE.json`).

### –§–∏–Ω–∞–ª: –°–ª–∏—è–Ω–∏–µ –∏ –ê–Ω–∞–ª–∏–∑
1.  **Merge Node:**
    * Join Mode: **Keep Everything (Full Outer Join)**.
    * Field 1: `User ID` (–∏–∑ Discord).
    * Field 2: `discord_user_id` (–∏–∑ CRM).
2.  **Code (Verdict):**
    * –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç `CRM Status` –∏ `Discord Minutes`.
    * **üö® SUSPICIOUS:** –ï—Å–ª–∏ CRM = Active, –∞ Discord < 10 –º–∏–Ω.
    * **‚ùì CHECK CRM:** –ï—Å–ª–∏ Discord > 2 —á–∞—Å–æ–≤, –∞ CRM –ø—É—Å—Ç.
    * **‚úÖ OK:** –î–∞–Ω–Ω—ã–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç.
    * **üí§ Inactive:** –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
3.  **Google Sheets (Write):** –ó–∞–ø–∏—Å—å –≤ `Merged_Report`.
4.  **Convert to File + Dropbox:**
    * File Name: `final_audit_YYYY-MM-DD.json`.
    * Upload –≤ —Ü–µ–ª–µ–≤—É—é –ø–∞–ø–∫—É.

---

## 6. –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏ FAQ

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞?
–ù–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ. –ï—Å–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –∑–∞–π–¥–µ—Ç –≤ –≥–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª, –±–æ—Ç –µ–≥–æ —É–≤–∏–¥–∏—Ç. –ï—Å–ª–∏ –æ–Ω –ø–æ—è–≤–∏—Ç—Å—è –≤ CRM, API –µ–≥–æ –æ—Ç–¥–∞—Å—Ç. –ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã –≤ CRM –±—ã–ª –ø—Ä–æ–ø–∏—Å–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `Discord User ID` —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞.

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –±–æ—Ç –ø–µ—Ä–µ—Å—Ç–∞–ª –ø–∏—Å–∞—Ç—å –ª–æ–≥–∏?
1.  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ `Credentials` n8n.
2.  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ª–∏ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Discord (–Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É –∏ Intent –Ω–∞ —á—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞).

### –§–∞–π–ª –≤ Dropbox –∏–º–µ–µ—Ç —Å—Ç—Ä–∞–Ω–Ω–æ–µ –∏–º—è `{{...}}`
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –ø–æ–ª–µ `File Name` –∏–ª–∏ `File Path` –≤ n8n –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º **Expression** (–∑–Ω–∞—á–æ–∫ `fx`), –∞ –Ω–µ Fixed.

### –ü–æ—á–µ–º—É –≤ –æ—Ç—á–µ—Ç–µ –≤—á–µ—Ä–∞—à–Ω—è—è –¥–∞—Ç–∞, —Ö–æ—Ç—è —Å–∫—Ä–∏–ø—Ç —Å—Ä–∞–±–æ—Ç–∞–ª —Å–µ–≥–æ–¥–Ω—è?
–¢–∞–∫ –∏ –∑–∞–¥—É–º–∞–Ω–æ. –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è 19-–≥–æ —á–∏—Å–ª–∞, —á—Ç–æ–±—ã –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å *–ø–æ–ª–Ω—ã–π –ø—Ä–æ—à–µ–¥—à–∏–π –¥–µ–Ω—å* 18-–≥–æ —á–∏—Å–ª–∞. –í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `setDate(getDate() - 1)`.

### –ö–∞–∫ –æ—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ?
–†–∞–∑ –≤ –º–µ—Å—è—Ü/–∫–≤–∞—Ä—Ç–∞–ª –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –æ—á–∏—â–∞—Ç—å –≤–∫–ª–∞–¥–∫—É `Raw_Logs` –≤ Google Sheets, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏, —á—Ç–æ–±—ã —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å —Å–ª–∏—à–∫–æ–º —Ç—è–∂–µ–ª–æ–π. –î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —ç—Ç–æ –Ω–µ —Å—Ç—Ä–∞—à–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –º—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ —á–∏—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∑–∞–Ω–æ–≤–æ.